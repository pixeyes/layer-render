(this["webpackJsonplayer-render"]=this["webpackJsonplayer-render"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},139:function(e,t,a){e.exports=a(215)},213:function(e,t,a){var n=a(126),i=a(108);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},l=n(i,r);if(!i.locals||e.hot.invalidate){var o=i.locals;e.hot.accept(108,(function(){"string"===typeof(i=(i=a(108)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if((!a||"default"!==n)&&!e[n])return!1;return!0}(o,i.locals)?(o=i.locals,l(i)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),e.exports=i.locals||{}},214:function(e,t,a){var n=a(126),i=a(109);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1},l=n(i,r);if(!i.locals||e.hot.invalidate){var o=i.locals;e.hot.accept(109,(function(){"string"===typeof(i=(i=a(109)).__esModule?i.default:i)&&(i=[[e.i,i,""]]),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if((!a||"default"!==n)&&!e[n])return!1;return!0}(o,i.locals)?(o=i.locals,l(i)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),e.exports=i.locals||{}},215:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),l=a.n(r),o=a(32),s=a(53),c=a.n(s),h=a(65),m=a(44),u=a(45),d=a(70),f=a(69),p=a(219);a(127);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a="group"===e.type;return(!a||a&&e.image||a&&e.children&&e.children.length>1)&&t.push(e),Array.isArray(e.children)&&(e.children.some((function(e){return e.hasOwnProperty("index")}))&&e.children.sort((function(e,t){return e.index>t.index?1:e.index<t.index?-1:0})),e.children.forEach((function(e){g(e,t)}))),t}function v(e,t){var a,n,i,r;return i=e.centerX-t.centerX,r=e.centerY-t.centerY,a=e.halfWidth+t.halfWidth,n=e.halfHeight+t.halfHeight,Math.abs(i)<a&&Math.abs(r)<n}var y=function(e,t,a){for(var n={x:t.x,y:t.y,width:1,height:1,halfWidth:.5,halfHeight:.5,centerX:t.x+.5,centerY:t.y+.5},i=[],r=e.length-1;r>=0;r--){var l=e[r];if(v(n,l._rect)){if(!a)return l;i.push(l)}}return a?i:null},x=300;function E(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=t.unit;if(null==e||0===e||"number"===typeof e&&isNaN(e))return 0;try{if(Array.isArray(e))return e.map((function(e){return E(e,t,a,n)})).join(" ");var r=e/t.ratio,l=1;return"rem"!=i&&"pt"!=i||(a=!1,l=2),(a?Math.round(r*n)/n:parseFloat(r.toFixed(l)))+(i||0)}catch(o){}return e}var w=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("object"===typeof t){for(var i=0,r=Object.entries(t);i<r.length;i++){var l=Object(o.a)(r[i],2),s=l[0],c=l[1];"value"!==s&&(null==c||0===c||"number"===typeof c&&isNaN(c)?(console.log(t),t[s]=0):t[s]=e(c,a,n))}return t}var h=(Math.floor(100*t)/100).toFixed(2)*n;return a?h+a:h},b=function(e){return w(e,"",1)},C=function(){return n.createElement("svg",{width:"23px",height:"23px",viewBox:"0 0 23 23",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"\u9875\u9762-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"\u4e00\u671f\u4ea4\u4e92\u8c03\u6574\u5185\u5bb9\u6e05\u5355\uff080706\uff09",transform:"translate(-1115.000000, -4460.000000)",fill:"currentColor",fillRule:"nonzero"},n.createElement("g",{id:"\u7f16\u7ec4-25\u5907\u4efd-2",transform:"translate(1089.000000, 4441.000000)"},n.createElement("g",{id:"\u7f16\u7ec4-4",transform:"translate(24.000000, 16.000000)"},n.createElement("path",{d:"M12,3 C17.5228475,3 22,7.4771525 22,13 C22,15.4013589 21.1535722,17.605024 19.7427889,19.3289229 L24.5355339,24.1213203 C24.9260582,24.5118446 24.9260582,25.1450096 24.5355339,25.5355339 C24.1450096,25.9260582 23.5118446,25.9260582 23.1213203,25.5355339 L18.3289229,20.7427889 C16.605024,22.1535722 14.4013589,23 12,23 C6.4771525,23 2,18.5228475 2,13 C2,7.4771525 6.4771525,3 12,3 Z M12,5 C7.581722,5 4,8.581722 4,13 C4,17.418278 7.581722,21 12,21 C16.418278,21 20,17.418278 20,13 C20,8.581722 16.418278,5 12,5 Z M12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 Z",id:"Combined-Shape"}))))))},N=function(){return n.createElement("svg",{width:"23px",height:"23px",viewBox:"0 0 23 23",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"\u9875\u9762-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"\u4e00\u671f\u4ea4\u4e92\u8c03\u6574\u5185\u5bb9\u6e05\u5355\uff080706\uff09",transform:"translate(-1168.000000, -4460.000000)",fill:"currentColor",fillRule:"nonzero"},n.createElement("g",{id:"\u7f16\u7ec4-25\u5907\u4efd-2",transform:"translate(1089.000000, 4441.000000)"},n.createElement("g",{id:"\u7f16\u7ec4-8",transform:"translate(76.000000, 16.000000)"},n.createElement("path",{d:"M13,3 C18.5228475,3 23,7.4771525 23,13 C23,15.4013589 22.1535722,17.605024 20.7427889,19.3289229 L25.5355339,24.1213203 C25.9260582,24.5118446 25.9260582,25.1450096 25.5355339,25.5355339 C25.1450096,25.9260582 24.5118446,25.9260582 24.1213203,25.5355339 L19.3289229,20.7427889 C17.605024,22.1535722 15.4013589,23 13,23 C7.4771525,23 3,18.5228475 3,13 C3,7.4771525 7.4771525,3 13,3 Z M13,5 C8.581722,5 5,8.581722 5,13 C5,17.418278 8.581722,21 13,21 C17.418278,21 21,17.418278 21,13 C21,8.581722 17.418278,5 13,5 Z M16,12 C16.5522847,12 17,12.4477153 17,13 C17,13.5522847 16.5522847,14 16,14 L10,14 C9.44771525,14 9,13.5522847 9,13 C9,12.4477153 9.44771525,12 10,12 L16,12 Z",id:"Combined-Shape"}))))))},M=function(){return n.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"\u9875\u9762-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"\u4e00\u671f\u4ea4\u4e92\u8c03\u6574\u5185\u5bb9\u6e05\u5355\uff080706\uff09",transform:"translate(-1217.000000, -4457.000000)"},n.createElement("g",{id:"\u7f16\u7ec4-25\u5907\u4efd-2",transform:"translate(1089.000000, 4441.000000)"},n.createElement("g",{id:"\u7f16\u7ec4-7",transform:"translate(128.000000, 16.000000)"},n.createElement("rect",{id:"\u77e9\u5f62",fill:"currentColor",opacity:"0",x:"0",y:"0",width:"28",height:"28"}),n.createElement("rect",{id:"\u77e9\u5f62",stroke:"currentColor",strokeWidth:"2",x:"3",y:"4",width:"22",height:"20",rx:"2"}),n.createElement("path",{d:"M10.396,19 L10.396,9.004 L9.248,9.004 C8.912,9.368 8.492,9.69 7.988,9.998 C7.484,10.278 7.022,10.474 6.574,10.586 L6.574,12.098 C7.498,11.832 8.268,11.412 8.87,10.838 L8.87,19 L10.396,19 Z M13.616,13.904 C13.896,13.904 14.148,13.806 14.358,13.61 C14.554,13.4 14.666,13.148 14.666,12.868 C14.666,12.574 14.554,12.322 14.358,12.126 C14.148,11.916 13.896,11.818 13.616,11.818 C13.308,11.818 13.07,11.916 12.888,12.126 C12.678,12.322 12.58,12.574 12.58,12.868 C12.58,13.148 12.678,13.4 12.888,13.61 C13.07,13.806 13.308,13.904 13.616,13.904 Z M13.616,19.028 C13.896,19.028 14.148,18.93 14.358,18.734 C14.554,18.524 14.666,18.272 14.666,17.992 C14.666,17.698 14.554,17.446 14.358,17.25 C14.148,17.04 13.896,16.942 13.616,16.942 C13.308,16.942 13.07,17.04 12.888,17.25 C12.678,17.446 12.58,17.698 12.58,17.992 C12.58,18.272 12.678,18.524 12.888,18.734 C13.07,18.93 13.308,19.028 13.616,19.028 Z M19.916,19 L19.916,9.004 L18.768,9.004 C18.432,9.368 18.012,9.69 17.508,9.998 C17.004,10.278 16.542,10.474 16.094,10.586 L16.094,12.098 C17.018,11.832 17.788,11.412 18.39,10.838 L18.39,19 L19.916,19 Z",id:"1:1",fill:"currentColor",fillRule:"nonzero"}))))))},L=a(95),S=function(){return n.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"\u9875\u9762-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"\u4e00\u671f\u4ea4\u4e92\u8c03\u6574\u5185\u5bb9\u6e05\u5355\uff080706\uff09",transform:"translate(-996.000000, -4677.000000)"},n.createElement("g",{id:"\u7f16\u7ec4-25\u5907\u4efd-5",transform:"translate(816.000000, 4661.000000)"},n.createElement("g",{id:"Group-3",transform:"translate(180.000000, 16.000000)"},n.createElement("rect",{id:"Rectangle-Copy-3",stroke:"#FF0000",strokeWidth:"2",fillOpacity:"0.48",fill:"currentColor",opacity:"0",x:"1",y:"1",width:"26",height:"26"}),n.createElement("path",{d:"M6.25259068,5.33563616 C6.59128424,4.95460591 7.15590813,4.89361527 7.56543406,5.17507767 L7.66436384,5.25259068 L17.5051993,14 L7.66436384,22.7474093 C7.25158107,23.1143273 6.6195087,23.0771466 6.25259068,22.6643638 C5.91389713,22.2833336 5.9195244,21.715453 6.24705906,21.3417504 L6.33563616,21.2525907 L14.494,14 L6.33563616,6.74740932 C5.95460591,6.40871576 5.89361527,5.84409187 6.17507767,5.43456594 L6.25259068,5.33563616 Z",id:"Path-3",fill:"currentColor",fillRule:"nonzero"}),n.createElement("rect",{id:"\u77e9\u5f62",fill:"currentColor",x:"18",y:"4",width:"2",height:"20",rx:"1"}))))))};var k,O,R=function(e){var t=e.zoomIn,a=e.zoomOut,i=e.zoomToPrimitive,r=e.zoomNext;return n.createElement("div",{className:"page-operation-module"},n.createElement("div",{className:"white-board-module zoom-in-out"},n.createElement(L.a,{title:"\u653e\u5927"},n.createElement("button",{className:"button-module page-zoom_out_btn rel-btn--icon rel-btn--medium",onClick:t},n.createElement("div",{className:"icon-wrap"},n.createElement(C,null)))),n.createElement(L.a,{title:"\u7f29\u5c0f"},n.createElement("button",{className:"button-module page-zoom_in_btn rel-btn--icon rel-btn--medium",onClick:a},n.createElement("div",{className:"icon-wrap"},n.createElement(N,null)))),n.createElement(L.a,{title:"\u539f\u59cb"},n.createElement("button",{className:"button-module page-zoom_in_btn rel-btn--icon rel-btn--medium",onClick:i},n.createElement("div",{className:"icon-wrap"},n.createElement(M,null)))),n.createElement(L.a,{title:"\u4e0b\u4e00\u9875"},n.createElement("button",{className:"button-module page-zoom_in_btn rel-btn--icon rel-btn--medium ",onClick:r},n.createElement("div",{className:"icon-wrap"},n.createElement(S,null))))))},_=a(5),j=a.n(_),X=Math.round,z=function(){function e(t){Object(m.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t[0],this.g=t[1],this.b=t[2]}return Object(u.a)(e,[{key:"toString",value:function(){return"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}}]),e}(),P=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).a=void 0,n.a=e[3],n}return Object(u.a)(a,[{key:"toString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}}]),a}(z),T=function(){function e(t){Object(m.a)(this,e),this.h=void 0,this.s=void 0,this.l=void 0,this.h=t[0],this.s=t[1],this.l=t[2]}return Object(u.a)(e,[{key:"toString",value:function(){return"hsl(".concat(this.h,",").concat(this.s,"%,").concat(this.l,"%)")}}]),e}(),Y=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).a=void 0,n.a=e[3],n}return Object(u.a)(a,[{key:"toString",value:function(){return"hsla(".concat(this.h,",").concat(this.s,"%,").concat(this.l,"%,").concat(this.a,")")}}]),a}(T),W=function(){function e(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(Object(m.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.a=void 0,this.astr=void 0,this.rgb=void 0,this.rgba=void 0,this.hex=void 0,this.hexa=void 0,this.ahex=void 0,this.hsl=void 0,this.h=void 0,this.s=void 0,this.l=void 0,this.hsla=void 0,"string"===typeof t){var r=t;"#"!==r.charAt(0)&&(r="#"+r),r.length<7&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var l=H(r),s=Object(o.a)(l,3);t=s[0],a=s[1],n=s[2]}else t instanceof Array&&(i=t[3]||i,n=t[2],a=t[1],t=t[0]);this.r=t,this.g=a,this.b=n,this.a=i,this.astr=F(i),this.rgb=new z([this.r,this.g,this.b]),this.rgba=new P([this.r,this.g,this.b,this.a]),this.hex=B(this.r,this.g,this.b),this.hexa=this.hex+this.astr,this.ahex=this.hex.replace("#","#"+this.astr),this.hsl=new T(D(this.r,this.g,this.b)),this.h=this.hsl.h,this.s=this.hsl.s,this.l=this.hsl.l,this.hsla=new Y([this.h,this.s,this.l,this.a])}return Object(u.a)(e,[{key:"setHue",value:function(e){this.h=e,this.hsl.h=e,this.hsla.h=e,this.updateFromHsl()}},{key:"setSat",value:function(e){this.s=e,this.hsl.s=e,this.hsla.s=e,this.updateFromHsl()}},{key:"setLum",value:function(e){this.l=e,this.hsl.l=e,this.hsla.l=e,this.updateFromHsl()}},{key:"setAlpha",value:function(e){this.a=e,this.hsla.a=e,this.rgba.a=e}},{key:"updateFromHsl",value:function(){this.rgb=null,this.rgb=new z(U(this.h,this.s,this.l)),this.r=this.rgb.r,this.g=this.rgb.g,this.b=this.rgb.b,this.rgba.r=this.rgb.r,this.rgba.g=this.rgb.g,this.rgba.b=this.rgb.b,this.hex=null,this.hex=B([this.r,this.g,this.b])}}]),e}(),F=function(e){return Math.round(255*e).toString(16).toUpperCase()},H=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},A=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},B=function(e,t,a){return e instanceof Array&&(a=e[2],t=e[1],e=e[0]),"#"+A(e)+A(t)+A(a)},D=function(e,t,a){var n,i,r,l,o,s;if(e instanceof Array&&(a=e[2],t=e[1],e=e[0]),e/=255,t/=255,a/=255,r=((o=Math.max(e,t,a))+(s=Math.min(e,t,a)))/2,o===s)n=i=0;else{switch(l=o-s,i=r>.5?l/(2-o-s):l/(o+s),o){case e:n=(t-a)/l+(t<a?6:0);break;case t:n=(a-e)/l+2;break;case a:n=(e-t)/l+4}n/=6}return[n=X(360*n),i=X(100*i),r=X(100*r)]},I=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},U=function(e,t,a){var n,i,r,l,o;return e instanceof Array&&(a=e[2],t=e[1],e=e[0]),e/=360,a/=100,0===(t/=100)?n=i=r=a:(n=I(o=2*a-(l=a<.5?a*(1+t):a+t-a*t),l,e+1/3),i=I(o,l,e),r=I(o,l,e-1/3)),[X(255*n),X(255*i),X(255*r)]},V=function(e){return new W(e.r,e.g,e.b,e.a)},Z=a(222),q=a(225),J=a(138),G={gauss:"\u9ad8\u65af\u6a21\u7cca",background:"\u80cc\u666f\u6a21\u7cca",action:"\u52a8\u611f\u6a21\u7cca",radial:"\u5f84\u5411\u6a21\u7cca"},K={inner:"\u5185\u8fb9\u6846",center:"\u4e2d\u5fc3\u8fb9\u6846",outer:"\u5916\u8fb9\u6846"};!function(e){e.justifyAll="\u5168\u90e8\u5bf9\u9f50",e.justifyCenter="\u672b\u884c\u5c45\u4e2d\u5bf9\u9f50",e.justifyLeft="\u672b\u884c\u5de6\u5bf9\u9f50",e.justifyRight="\u672b\u884c\u53f3\u5bf9\u9f50",e.center="\u5c45\u4e2d\u5bf9\u9f50",e.left="\u5de6\u5bf9\u9f50",e.right="\u53f3\u5bf9\u9f50",e.justify="\u5168\u90e8\u5bf9\u9f50"}(k||(k={})),function(e){e.top="\u5782\u76f4\u9876\u5bf9\u9f50",e.middle="\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",e.bottom="\u5782\u76f4\u5e95\u5bf9\u9f50"}(O||(O={}));var $,Q=["HEX","AHEX","HEXA","RGB","RGBA","HSL","HSLA"];!function(e){e.linear="\u7ebf\u6027\u6e10\u53d8",e.radial="\u5f84\u5411\u6e10\u53d8",e.circle="\u89d2\u5ea6\u6e10\u53d8",e.diamond="\u83f1\u5f62\u6e10\u53d8"}($||($={}));var ee={inner:"\u5185\u9634\u5f71",outer:"\u5916\u9634\u5f71"},te=i.a.createContext({colorType:"HEX",onChangeColorType:function(){},artSize:null}),ae=function(e){var t=e.layerColors;return n.createElement("div",{className:"property-color group"},t.map((function(e,t){return e.color?n.createElement(ne,{key:t,color:e.color}):e.gradient?n.createElement(re,{gradient:e.gradient,key:t}):null})))},ne=function(e){var t=e.color;return n.createElement("div",{className:"property-color-item relay-common-dropdown-warp"},n.createElement("div",{className:"color-wrap"},n.createElement("div",{className:"l"},"\u989c\u8272"),n.createElement(le,{color:t})))};function ie(e){if(null!=e.angle)return function(e){return Math.round(100*e)/100}(e.angle);var t=e.from.x,a=e.from.y,n=e.to.x-t,i=e.to.y-a,r=i/Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),l=180*Math.acos(r)/Math.PI,o=(n>0?360-l:l)+180;return o>360&&(o-=360),Math.round(o)}var re=function(e){var t=e.gradient;return n.createElement("div",{className:"property-gradient-item relay-common-dropdown-warp"},n.createElement("div",{className:"color-wrap"},n.createElement("div",{className:"l"},"\u989c\u8272"),n.createElement("div",{className:"r"},n.createElement("div",{className:"r-box title-tip"},n.createElement("span",{className:"title"},$[t.type]),n.createElement("div",null,", ","radial"===t.type?"\u5706":ie(t)+"deg")),n.createElement("div",{className:"r-box"},n.createElement("div",{className:"color-hint",style:{background:"linear-gradient(".concat(t.points.map((function(e){return e.color.value})).join(" , "),")")}}),n.createElement("div",{className:"color-item"},t.points.map((function(e,t){return n.createElement(le,{key:t,color:e.color})}))),n.createElement("div",{className:"line"},n.createElement("i",{className:"top",style:{backgroundColor:"rgba(190, 149, 255, 0.24)"}}),n.createElement("span",null),n.createElement("i",{className:"bottom",style:{backgroundColor:" rgba(190, 149, 255, 0.77)"}}))))))},le=function(e){var t=e.color,a=Object(n.useContext)(te),i=a.colorType,r=a.onChangeColorType,l=n.createElement(Z.a,null,Q.map((function(e){return n.createElement(Z.a.Item,{key:e,className:"color-type",onClick:function(){return r(e.toLowerCase())}},n.createElement("div",null,e),n.createElement("div",null,V(t)[e.toLowerCase()].toString()))})));return n.createElement("div",{className:"r color-combo"},n.createElement("div",{className:"color-hint",style:{background:t.value}}),n.createElement("div",{className:"color-text overflow-text"},V(t)[i.toLowerCase()].toString()),"hex"===i.toLowerCase()&&n.createElement("div",{className:"percent-text"},Math.round(100*t.a),"%"),n.createElement(q.a,{overlay:l,placement:"bottomRight",trigger:["click"]},n.createElement("a",{className:"ant-dropdown-link"},n.createElement(J.a,{style:{color:"#494F5C"}}))))},oe=function(e){var t=e.font,a=Object(n.useContext)(te).artSize;return n.createElement("div",{className:"property-font group"},n.createElement("div",{className:"property-font-item"},n.createElement("ul",null,(null===t||void 0===t?void 0:t.family)&&n.createElement("li",null,n.createElement("div",{className:"l"},"\u5b57\u4f53"),n.createElement("div",{title:"PingFangSC",className:"r text"},t.family)),n.createElement("li",null,n.createElement("div",{className:"l"},"\u5b57\u91cd"),n.createElement("div",{className:"r text"},t.style)),n.createElement("li",null,n.createElement("div",{className:"l"},"\u5b57\u53f7"),n.createElement("div",{className:"r text"},function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=t.fontUnit;if(null==e||0===e||"number"===typeof e&&isNaN(e))return 0;try{if(Array.isArray(e))return e.map((function(e){return E(e,t,a,n)})).join(" ");var r=e/t.ratio,l=1;return"rem"!=i&&"pt"!=i||(a=!1,l=2),(a?Math.round(r*n)/n:parseFloat(r.toFixed(l)))+(i||0)}catch(o){}return e}(t.size,a))),n.createElement("li",null,n.createElement(ne,{color:t.color})),n.createElement("li",{style:{height:"auto",flexWrap:"wrap"}},n.createElement("div",{className:"l"},"\u5bf9\u9f50"),n.createElement("div",{title:"\u5de6\u5bf9\u9f50",className:"r text"},k[t.align]),n.createElement("div",{title:"\u5782\u76f4\u9876\u5bf9\u9f50",className:"r text",style:{marginLeft:16}},O[t.verticalAlignment])),n.createElement("li",{style:{height:88,flexWrap:"wrap"}},n.createElement("div",{className:"l"},"\u7a7a\u95f4"),n.createElement("div",{"data-title":"\u5b57\u95f4\u8ddd",title:"0",className:"r text"},"\u5b57\u95f4\u8ddd ",t.spacing),n.createElement("div",{"data-title":"\u884c\u95f4\u8ddd",title:"32pt",className:"r text",style:{marginLeft:16}},"\u884c\u95f4\u8ddd ",t.lineHeight,a.fontUnit),n.createElement("div",{"data-title":"\u6bb5\u843d",title:"0",className:"r text",style:{marginLeft:52,marginTop:16,width:"50%",flex:"1 0 auto"}},"\u6bb5\u843d ",t.paragraphSpacing)),n.createElement("li",{className:"autoHeight"},n.createElement("div",{className:"l"},"\u5185\u5bb9"),n.createElement("div",{title:t.content,className:"r text text-content"},n.createElement("span",null,t.content))))))},se=function(){return i.a.createElement("svg",{width:"16px",height:"17px",viewBox:"0 0 16 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"\u63a7\u4ef6",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.300000012"},i.a.createElement("g",{id:"\u4fe1\u606f\u680f",transform:"translate(-254.000000, -14.000000)",fill:"#FFFFFF",fillRule:"nonzero"},i.a.createElement("g",{id:"\u7f16\u7ec4-18"},i.a.createElement("path",{d:"M262,14.1135135 C257.581529,14.1135135 254,17.7240818 254,22.1783784 C254,26.632675 257.581529,30.2432432 262,30.2432432 C266.418471,30.2432432 270,26.632675 270,22.1783784 C270,17.7240818 266.418471,14.1135135 262,14.1135135 Z M264.828072,24.3182082 C265.024263,24.5159899 265.024263,24.833703 264.828072,25.0314848 C264.631881,25.2292665 264.316723,25.2292665 264.120532,25.0314848 L262.002087,22.893759 L259.869032,25.0441091 C259.672841,25.2418908 259.353509,25.2418908 259.157318,25.0441091 C258.961127,24.8463274 258.961127,24.5244061 259.157318,24.3266244 L261.290373,22.1762743 L259.171928,20.0406527 C258.975737,19.8428709 258.975737,19.5251578 259.171928,19.3273761 C259.368119,19.1295943 259.683277,19.1295943 259.879468,19.3273761 L261.997913,21.4629977 L264.147665,19.2958151 C264.343856,19.0980334 264.663188,19.0980334 264.859379,19.2958151 C265.05557,19.4935969 265.05557,19.8155182 264.859379,20.0132999 L262.709627,22.1804824 L264.828072,24.3182082 Z",id:"\u5f62\u72b6"})))))},ce=function(){return i.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M466.49 26.17c25.6-14.79 55.75-15.93 82.49-4.55l8.53 4.55 352.14 203.66c25.6 14.79 42.1 40.96 45.51 69.97v415.86c0 29.58-14.22 56.89-38.11 73.96l-7.4 4.55-352.14 203.66c-25.6 14.79-55.75 15.93-82.49 4.55l-8.53-4.55-352.14-203.66c-25.6-14.79-42.1-40.96-45.51-69.97v-415.86c0-29.58 14.22-56.89 38.11-73.96l7.4-4.55 352.14-203.66z m42.67 73.95l-352.15 203.67c-1.71 1.14-2.84 2.84-2.84 4.55v407.32c0 2.28 1.14 3.98 2.84 4.55l352.15 203.67c1.71 1.14 3.98 1.14 5.68 0l352.15-203.67c1.71-1.14 2.84-2.84 2.84-4.55v-407.32c0-2.28-1.14-3.98-2.84-4.55l-352.15-203.67a5.12 5.12 0 0 0-5.68 0z m2.84 241.21c94.44 0 170.67 76.23 170.67 170.67s-76.23 170.67-170.67 170.67-170.67-76.23-170.67-170.67 76.23-170.67 170.67-170.67z m0 85.34c-47.22 0-85.33 38.12-85.33 85.33s38.12 85.33 85.33 85.33 85.33-38.12 85.33-85.33-38.12-85.33-85.33-85.33z",fill:"currentColor"}))},he=function(e){var t=e.layerBorders;return n.createElement("div",{className:"property-border property-item-warp group"},t.map((function(e,t){return n.createElement("div",{className:"item",key:t},n.createElement("div",{className:"title"},K[e.type]),n.createElement("div",{className:"content"},n.createElement("div",null,n.createElement("div",{className:"l"},"\u7c97\u7ec6"),n.createElement("div",{className:"r text"},e.thickness,"px")),n.createElement("div",null,e.color&&n.createElement(ne,{color:e.color}),e.gradient&&n.createElement(re,{gradient:e.gradient}))))})))},me=function(e){var t=e.layerShadows;return n.createElement("div",{className:"property-shadow property-item-warp group"},t.map((function(e,t){return n.createElement("div",{className:"item",key:t},n.createElement("div",{className:"title"},ee[e.type]),n.createElement("div",{className:"content"},n.createElement("div",null,n.createElement("div",{className:"l"},"\u504f\u79fb"),n.createElement("div",{"data-title":"x",className:"r text"},"X: ",e.offsetX,"px"),n.createElement("div",{"data-title":"y",className:"r text",style:{marginLeft:16}},"Y: ",e.offsetY,"px")),n.createElement("div",null,n.createElement("div",{className:"l"},"\u6548\u679c"),n.createElement("div",{"data-title":"x",className:"r text"},"\u6a21\u7cca: ",e.blurRadius,"px"),n.createElement("div",{"data-title":"y",className:"r text",style:{marginLeft:16}},"\u6269\u5c55: ",e.spread,"px")),n.createElement("div",null,n.createElement(ne,{color:e.color}))))})))},ue=function(e){var t=e.layerBlurs;return n.createElement("div",{className:"property-blur property-item-warp group"},t.map((function(e,t){return n.createElement("div",{className:"item",key:t},n.createElement("div",{className:"title"},G[e.type]),n.createElement("div",{className:"content"},n.createElement("div",null,n.createElement("div",{className:"l"},"\u504f\u79fb"),n.createElement("div",{className:"r text"},e.radius,"px"))))})))};function de(e){try{return decodeURIComponent(e)}catch(t){return e}}var fe=function(e,t){return e&&e[t]?e[t]:[]},pe=function(e){var t,a,i=e.current,r=e.platform,l=e.ratio,s=e.width,c=e.height,h=e.onModalVisibleChange,m=Object(n.useContext)(te).artSize,u=fe(i.style,"fills"),d=fe(i.style,"borders"),f=fe(i.style,"shadows"),p=fe(i.style,"blurs"),g=Object(n.useState)(!0),v=Object(o.a)(g,2),y=v[0],x=v[1],w=E(s,m)+" x "+E(c,m);return Object(n.useEffect)((function(){x(!!i)}),[i]),n.createElement("div",{className:j()("property right rel-property_index",{close:!y||!i,open:!(!y||!i)})},n.createElement("div",{className:"page-design-info"},n.createElement("div",{className:"left_title"},de(i.name)),n.createElement("div",{className:"close_icon"},n.createElement("button",{className:"button-module base_set_icon rel-btn--icon rel-btn--medium","data-guide":"page-set_project",onClick:function(){return x(!1)}},n.createElement(se,null)))),n.createElement("div",{className:"page-unit-info"},n.createElement("div",{className:"left_title"},n.createElement("span",{title:"iOS@1x",className:"unit_name overflow-text"},r,"iOS"===r&&n.createElement("span",{className:"unit_device"},"@",l,"x"))),n.createElement("div",{className:"right_title"},n.createElement("span",{className:"unit_result overflow-text"},w),n.createElement("button",{className:"button-module base_set_icon rel-btn--icon rel-btn--medium","data-guide":"page-set_project",onClick:h},n.createElement(ce,null)))),n.createElement("div",{className:"property-base-wrap rel-property_content"},n.createElement("div",{className:"content scrollbar"},n.createElement("div",{className:"property-base group"},n.createElement("div",null,n.createElement("div",{className:"l"},"\u4f4d\u7f6e"),n.createElement("div",{title:"210px",className:"r text"},n.createElement("span",{className:"text-tip"},"X"),E(i.frame.x,m)),n.createElement("div",{title:"158px",className:"r text",style:{marginLeft:16}},n.createElement("span",{className:"text-tip"},"Y"),E(i.frame.y,m))),n.createElement("div",null,n.createElement("div",{className:"l"},"\u5927\u5c0f"),n.createElement("div",{title:"192px",className:"r text"},n.createElement("span",{className:"text-tip"},"\u5bbd"),E(i.frame.width,m)),n.createElement("div",{title:"32px",className:"r text",style:{marginLeft:16}},n.createElement("span",{className:"text-tip"},"\u9ad8"),E(i.frame.height,m))),(null===(t=i.style)||void 0===t?void 0:t.opacity)&&n.createElement("div",null,n.createElement("div",{className:"l l-opacity"},"\u4e0d\u900f\u660e\u5ea6"),n.createElement("div",{className:"r text"},100*i.style.opacity,"%")),(null===(a=i.style)||void 0===a?void 0:a.radius)&&n.createElement("div",null,n.createElement("div",{className:"l "},"\u5706\u89d2"),n.createElement("div",{className:"r text overflow-text"},i.style.radius.map((function(e){return E(e,m)})).join(" ")))),(i.style||i.font)&&n.createElement("div",null,n.createElement("div",{className:"property-title"},"\u6837\u5f0f\u4fe1\u606f"),n.createElement("div",null,i.font&&n.createElement(oe,{font:i.font}),u.length>0&&n.createElement(ae,{layerColors:u}),d.length>0&&n.createElement(he,{layerBorders:d}),f.length>0&&n.createElement(me,{layerShadows:f}),p.length>0&&n.createElement(ue,{layerBlurs:p}))))))},ge=a(224),ve=function(){return n.createElement("div",{className:"control-type"},"\u8bbe\u8ba1\u7a3f\u622a\u53d6\u65b9\u5f0f",n.createElement(ge.a.Group,{value:0},n.createElement(ge.a,{value:0},"\u9009\u56fe\u5c42"),n.createElement(L.a,{title:"\u656c\u8bf7\u671f\u5f85",placement:"top"},n.createElement(ge.a,{value:1,disabled:!0},"\u5212\u70ed\u533a"))))},ye=a(220),xe=a(223),Ee=a(221),we=a(41),be=[{platform:"iOS",unit:"pt",fontUnit:"pt",ratio:2,picType:"svg",leftTip:{type:"icon",icon:"//s1-relay.360buyimg.com/relay/release/platform/web/img/ios_platform_icon.ee53ffd5.svg"},name:"iOS/pt\uff08\u4e0a\u4f20\u9ed8\u8ba4\u5355\u4f4d\uff09",selected:!0,clstag:"h|keycount|web_page_equipment|2"},{platform:"Android",unit:"dp",fontUnit:"sp",ratio:2,picType:"svg",leftTip:{type:"icon",icon:"//s1-relay.360buyimg.com/relay/release/platform/web/img/android_platform_icon.80ba33c0.svg"},name:"Android/dp",selected:!1,clstag:"h|keycount|web_page_equipment|3"},{platform:"Web",unit:"px",fontUnit:"px",ratio:1,picType:"svg",leftTip:{type:"icon",icon:"//s1-relay.360buyimg.com/relay/release/platform/web/img/pc_platform_icon.ded3b163.svg"},name:"Web/px",selected:!1,clstag:"h|keycount|web_page_equipment|4"},{platform:"\u50cf\u7d20",unit:"px",fontUnit:"px",ratio:1,picType:"svg",leftTip:{type:"icon",icon:"//s1-relay.360buyimg.com/relay/release/platform/web/img/other_platform_icon.08f4efc5.svg"},name:"\u50cf\u7d20/px",selected:!1,clstag:"h|keycount|web_page_equipment|5"}],Ce=function(e){var t=e.visible,a=e.onChangeSpecification,i=e.onVisibleChange,r=e.platform,l=e.colorType,s=ye.a.useForm(),m=Object(o.a)(s,1)[0],u=function(){var e=Object(h.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.createElement(xe.a,{title:"\u8bbe\u7f6e\u9879\u76ee\u89c4\u683c",visible:t,footer:null,width:440,className:"layer-specification-modal",onCancel:i},n.createElement(ye.a,{form:m,labelCol:{span:6},initialValues:{platform:r,colorType:l},onFinish:u},n.createElement(ye.a.Item,{name:"platform",label:"\u6587\u6863\u8bbe\u7f6e"},n.createElement(Ee.a,null,be.map((function(e){return n.createElement(Ee.a.Option,{value:e.platform,key:e.platform},n.createElement("img",{className:"label-img",src:e.leftTip.icon,alt:""}),e.name)})))),n.createElement(ye.a.Item,{name:"colorType",label:"\u989c\u8272\u6a21\u5f0f\u8bbe\u7f6e"},n.createElement(Ee.a,null,Q.map((function(e){return n.createElement(Ee.a.Option,{key:e,value:e},e)})))),n.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n.createElement(we.a,{type:"default",size:"large",style:{marginRight:24,width:102},onClick:i},"\u53d6\u6d88"),n.createElement(we.a,{htmlType:"submit",type:"primary",size:"large",style:{width:102}},"\u786e\u5b9a"))))},Ne=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var i;Object(m.a)(this,a),(i=t.call(this,e)).imageRef=void 0,i.currentRef=void 0,i.distanceRef=void 0,i.marginRef=void 0,i.canvas=void 0,i.context=void 0,i.layers=void 0,i.current=void 0,i.tempX=void 0,i.tempY=void 0,i.offsetX=void 0,i.offsetY=void 0,i.moving=void 0,i.currentLayerPoint=void 0,i.validLayers=function(){var e=i.props.data.data.info,t=i.state;return e.forEach((function(e){e.frame.rx=e.frame.x+e.frame.width,e.frame.ry=e.frame.y+e.frame.height;var a=t.scale*e.frame.x,n=t.scale*e.frame.y,i=t.scale*e.frame.width,r=t.scale*e.frame.height,l=i/2,o=r/2;e._rect={x:a,y:n,width:i,height:r,halfWidth:l,halfHeight:o,centerX:a+l,centerY:n+o}})),e},i.onWhiteSpaceClick=function(){i.setState({current:null})},i.onResize=function(){},i.getPosition=function(){var e=i.state,t=e.scale,a=e.data,n=e.x,r=e.y;return{x:(i.props.canvasWidth-a.width*t)/2-n,y:0-r}},i.getCanvasPoint=function(e,t){var a=i.imageRef.current.getBoundingClientRect();return{x:e-a.left,y:t-a.top}},i.onMouseMove=function(e){var t=i.state.data,a=i.getPosition(),n=a.x,r=a.y,l=i.getCanvasPoint(e.pageX-n,e.pageY-r),o=y(i.validLayers(),l);if(i.setState({hoverLayer:o}),i.state.current&&o&&i.setState({top:i.showMarginTopStyle(),right:i.showMarginRightStyle(),bottom:i.showMarginBottomStyle(),left:i.showMarginLeftStyle()}),i.moving){i.offsetX+=e.clientX-i.tempX,i.offsetY+=e.clientY-i.tempY;var s=i.state.x-i.offsetX,c=i.state.y-i.offsetY;i.setState({x:s>0?Math.min(t.width*i.state.scale-x,s):Math.max(-(t.width*i.state.scale-x),s),y:c>0?Math.min(t.height*i.state.scale-x,c):Math.max(-(window.innerHeight-x),c)}),i.offsetX=i.offsetY=0,i.tempX=e.clientX,i.tempY=e.clientY}},i.onMouseleave=function(){i.setState({hoverLayer:null})},i.onMouseUp=function(){i.moving=!1},i.onMouseDown=function(){var e=Object(h.a)(c.a.mark((function e(t){var a,n,r,l,o,s,h,m,u,d,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.moving=!0,i.tempX=t.clientX,i.tempY=t.clientY,i.offsetX=i.offsetY=0,r=i.state.current,t.stopPropagation(),l=i.getPosition(),o=l.x,s=l.y,h=i.getCanvasPoint(t.pageX-o,t.pageY-s),m=y(i.validLayers(),h,!0),u=0,d=i.currentLayerPoint.x!=i.tempX||i.currentLayerPoint.y!=i.tempY,null==r||d||(u=m.findIndex((function(e){return e.id===r.id}))+1),u>=m.length&&(u=0),u=Math.min(u,m.length-1),f=m[u],i.setState({current:f}),null===(a=(n=i.props).onMouseDown)||void 0===a||a.call(n,f),i.currentLayerPoint.x=i.tempX,i.currentLayerPoint.y=i.tempY;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.showMarginTopStyle=function(){var e=i.state,t=e.current,a=e.hoverLayer;return t&&a?function(e,t){var a,n,i;return t.y>=e.y+e.height||t.y===e.y?null:(i=Math.min(e.y,t.y+t.height),t.y+t.height>e.y&&(i=Math.min(e.y,t.y)),t.x+t.width===e.x?a=e.x:e.x+e.width===t.x?a=t.x:(a=e.x+e.width/2,t.x>=e.x&&t.x+t.width<=e.x+e.width?a=t.x+t.width/2:t.x<=e.x?(t.x+t.width>e.x&&(a=(t.x+t.width-e.x)/2+e.x),a=Math.min(e.x+e.width/2,a)):t.x+t.width>e.x+e.width&&t.x<e.x+e.width&&(a=(e.x+e.width-t.x)/2+t.x)),i<e.y?n=e.y-i:i===e.y&&(n=t.y-i,a=t.x+t.width/2),n<1?null:b({left:a,height:n,top:i,value:n}))}(t=t.frame,a=a.frame):null},i.showMarginBottomStyle=function(){var e=i.state,t=e.current,a=e.hoverLayer;return t&&a?function(e,t){var a,n,i;return!e||!t||t.y+t.height<=e.y||t.y===e.y+e.height?null:((i=t.y>e.y+e.height?e.y+e.height:Math.min(e.y+e.height,t.y+t.height))>=e.y+e.height?(n=t.y-i,t.y+t.height>e.y+e.height&&t.y<e.y+e.height&&(n=t.y+t.height-i)):n=e.y+e.height-i,n<1?null:(e.x+e.width===t.x?a=t.x:t.x+t.width===e.x?a=e.x:(a=e.x+e.width/2,t.x>=e.x&&t.x+t.width<=e.x+e.width?a=t.x+t.width/2:t.x<=e.x?(t.x+t.width>e.x?a=(t.x+t.width-e.x)/2+e.x:t.y+t.height<e.y+e.height&&(a=t.x+t.width/2),a=Math.min(e.x+e.width/2,a)):t.x+t.width>e.x+e.width&&(t.x<e.x+e.width?a=(e.x+e.width-t.x)/2+t.x:t.y+t.height<e.y+e.height&&(a=t.x+t.width/2))),b({left:a,height:n,top:i,value:n})))}(t=t.frame,a=a.frame):null},i.showMarginRightStyle=function(){var e=i.state,t=e.current,a=e.hoverLayer;return t&&a?function(e,t){var a,n,i;return!e||!t||t.x+t.width===e.x+e.width||t.x+t.width<=e.x||e.x+e.width===t.x?null:(i=e.y+e.height/2,t.y>=e.y&&t.y+t.height<=e.y+e.height?i=t.y+t.height/2:t.y<=e.y?e.y===t.y+t.height&&t.x>e.x+e.width?i=e.y:t.x+t.width<e.x+e.width?i=t.y+t.height/2:(t.y+t.height>e.y?i=(t.y+t.height-e.y)/2+e.y:t.x>e.x&&t.x+t.width>e.x+e.width&&(i=e.y+e.height/2),i=Math.min(e.y+e.height/2,i)):t.y+t.height>e.y+e.height&&(i=t.y<e.y+e.height?(e.y+e.height-t.y)/2+t.y:t.x+t.width>e.x+e.width?e.y+e.height/2:t.y+t.height/2),a=e.x+e.width,n=t.x-(e.x+e.width),a>t.x+t.width&&(n=a-(t.x+t.width),a=t.x+t.width),n<=0&&(n=t.x+t.width-(e.x+e.width)),b({left:a,width:n,top:i,value:n}))}(t=t.frame,a=a.frame):null},i.showMarginLeftStyle=function(){var e=i.state,t=e.current,a=e.hoverLayer;return t&&a?function(e,t){var a,n,i;return!e||!t||t.x===e.x||t.x>=e.x+e.width||t.x+t.width===e.x?null:(i=e.y+e.height/2,t.y>=e.y&&t.y+t.height<=e.y+e.height?i=t.y+t.height/2:t.y<=e.y?e.y===t.y+t.height&&t.x+t.width<e.x?i=e.y:(t.y+t.height>e.y?i=(t.y+t.height-e.y)/2+e.y:t.x>e.x&&(i=t.y+t.height/2),i=Math.min(e.y+e.height/2,i)):t.y===e.y+e.height&&e.x>t.x+t.width?i=t.y:t.y+t.height>e.y+e.height&&(t.y<e.y+e.height?i=(e.y+e.height-t.y)/2+t.y:t.x>e.x&&(i=t.y+t.height/2)),(a=t.x+t.width)>=e.x&&(a=t.x),a>e.x?a-=n=a-e.x:n=e.x-a,b({left:a,width:n,top:i,value:n}))}(t=t.frame,a=a.frame):null},i.toRatioPX=function(e){return e?w(e,"",i.state.scale):null},i.showDistanceTopStyle=function(){var e,t,a,n=i.state.top;if(!n)return null;var r=i.state.current.frame,l=i.state.hoverLayer.frame;return n.left>=r.x&&n.left<=r.x+r.width&&n.left>=l.x&&n.left<=l.x+l.width?null:(e=n.left,a=n.top,n.left>=r.x&&n.left<=r.x+r.width?l.x>n.left?t=l.x-n.left:(t=n.left-(l.x+l.width),e=l.x+l.width):n.left>r.x?(e=r.x+r.width,t=n.left-e):t=r.x-e,i.toRatioPX({left:e,width:t,top:a}))},i.showDistanceBottomStyle=function(){var e,t,a,n=i.state.bottom;if(!n)return null;var r=i.state.current.frame,l=i.state.hoverLayer.frame;return n.left>=r.x&&n.left<=r.x+r.width&&n.left>=l.x&&n.left<=l.x+l.width||r.y+r.height===l.y+l.height?null:(e=n.left,a=n.top+n.height,n.left>=r.x&&n.left<=r.x+r.width?l.x>n.left?t=l.x-n.left:(t=n.left-(l.x+l.width),e=l.x+l.width):n.left>r.x+r.width?(t=n.left-(r.x+r.width),e=r.x+r.width):t=r.x-n.left,i.toRatioPX({left:e,width:t,top:a}))},i.showDistanceRightStyle=function(){var e,t,a,n=i.state.right;if(!n)return null;var r=i.state.current.frame,l=i.state.hoverLayer.frame;return n.top>=r.y&&n.top<=r.y+r.height&&n.top>=l.y&&n.top<=l.y+l.height?null:(n.top>r.y&&n.top<r.y+r.height?n.top>l.y?(a=l.y+l.height,t=n.top-a):(a=n.top,t=l.y-a):n.top>l.y&&n.top<l.y+l.height&&(n.top>r.y?(a=r.y+r.height,t=n.top-a):(a=n.top,t=r.y-a)),e=n.left+n.width-1,i.toRatioPX({left:e,height:t,top:a}))},i.showDistanceLeftStyle=function(){var e,t,a,n=i.state.left;if(!n)return null;var r=i.state.current.frame,l=i.state.hoverLayer.frame;return n.top>=r.y&&n.top<=r.y+r.height&&n.top>=l.y&&n.top<=l.y+l.height?null:(n.top>r.y&&n.top<r.y+r.height?n.top>l.y?(a=l.y+l.height,t=n.top-a):(a=n.top,t=l.y-a):n.top>l.y&&n.top<l.y+l.height&&(n.top>r.y?(a=r.y+r.height,t=n.top-a):(a=n.top,t=r.y-a)),e=n.left,i.toRatioPX({left:e,height:t,top:a}))},i.zoomIn=function(){i.setScale(i.state.scale+.25)},i.zoomOut=function(){i.setScale(i.state.scale-.25)},i.zoomToPrimitive=function(){i.setScale(1)},i.zoomNext=function(){},i.setScale=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=1*parseFloat(Math.max(Math.min(e,4),.25)).toFixed(2),n=i.getPosition(),r=t||{x:window.innerWidth/2/i.state.data.resolution,y:window.innerHeight/2/i.state.data.resolution};console.log(n),console.log(r),i.setState({scale:a})},i.onWheel=function(e){var t=i.state.data;if(e.ctrlKey)i.setScale(i.state.scale+(e.deltaY>0?-.05:.05),{x:e.clientX,y:e.clientY});else{var a=i.state.x+e.deltaX,n=i.state.y+e.deltaY;i.setState({x:a>0?Math.min(t.width*i.state.scale-x,a):Math.max(-(t.width*i.state.scale-x),a),y:n>0?Math.min(t.height*i.state.scale-x,n):Math.max(-(window.innerHeight-x),n)})}},i.onSpecificationModalVisibleChange=function(){i.setState({specificationModalVisible:!i.state.specificationModalVisible})},i.onChangeSpecification=function(e){i.setState(e),i.onSpecificationModalVisibleChange()},i.onChangeColorType=function(e){i.setState({colorType:e})},i.imageRef=n.createRef(),i.distanceRef=n.createRef(),i.marginRef=n.createRef(),i.tempX=0,i.tempY=0,i.offsetX=0,i.offsetY=0,i.moving=!1,i.currentLayerPoint={x:0,y:0};var r=e.data.device.split(" @"),l=Object(o.a)(r,2),s=l[0],u=l[1];return i.state={current:null,hoverLayer:null,top:null,right:null,bottom:null,left:null,scale:1,x:0,y:0,data:e.data,platform:s,ratio:parseInt(u),colorType:"HEX",specificationModalVisible:!1},i}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("resize",this.onResize),null===(t=(a=this.props).mountCallback)||void 0===t||t.call(a,this),console.log("emitEvent getContentCurrentLayer");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.data.id!==this.props.data.id&&(this.setState({current:null,hoverLayer:null,top:null,right:null,bottom:null,left:null,scale:1,x:0,y:0,data:this.props.data}),this.forceUpdate())}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.current,a=e.hoverLayer,i=e.scale,r=e.data,l=e.specificationModalVisible,o=e.platform,s=e.ratio,c=e.colorType,h=this.getPosition(),m=h.x,u=h.y,d=this.toRatioPX(this.showMarginTopStyle()),f=this.toRatioPX(this.showMarginBottomStyle()),g=this.toRatioPX(this.showMarginLeftStyle()),v=this.toRatioPX(this.showMarginRightStyle()),y=!(g&&v&&d&&f),x={border:0,backgroundImage:"url('https://storage.360buyimg.com/relay/".concat(this.props.data.image,"')"),backgroundRepeat:"no-repeat",backgroundPosition:"".concat(m,"px ").concat(u,"px"),backgroundSize:"".concat(i*r.width,"px ").concat(i*r.height,"px")},b=t?{width:w(t.frame.width,"px",i),height:w(t.frame.height,"px",i),left:w(t.frame.x-1,"px",i),top:w(t.frame.y-1,"px",i),position:"absolute",zIndex:1,border:"1px solid #f53914"}:{},C=be.find((function(e){return e.platform===o})),N={colorType:c,onChangeColorType:this.onChangeColorType,artSize:C};return n.createElement(te.Provider,{value:N},n.createElement("div",{className:"layer-render-container"},n.createElement("div",{className:"layer-render-wrap",onWheel:this.onWheel},n.createElement("canvas",{className:"canvas",ref:this.imageRef,style:x,onClick:this.onWhiteSpaceClick},"123"),n.createElement("div",{className:"wrap",onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseleave,onMouseUp:this.onMouseUp,style:{left:m,top:u,width:r.width*i,height:r.height*i}},t&&!a||t&&Object(p.a)(a,t)?n.createElement("div",{className:"border",style:b,"data-width":t?E(t.frame.width,C):"","data-height":t?E(t.frame.height,C):""}):t&&n.createElement("div",{className:"current-item",style:b}),a&&!Object(p.a)(a,t)&&n.createElement("div",{className:"hover-item",style:this.toRatioPX({left:a.frame.x-1,top:a.frame.y-1,width:a.frame.width,height:a.frame.height})}),a&&!t&&n.createElement("div",{className:"line"},n.createElement("div",{className:"x",style:this.toRatioPX({left:a.frame.x,width:a.frame.width})}),n.createElement("div",{className:"y",style:this.toRatioPX({top:a.frame.y,height:a.frame.height})})),t&&a&&!Object(p.a)(t,a)&&n.createElement(n.Fragment,null,y&&n.createElement("div",{className:"distance"},this.showDistanceTopStyle()&&n.createElement("div",{className:"top",style:this.showDistanceTopStyle()}),this.showDistanceRightStyle()&&n.createElement("div",{className:"right",style:this.showDistanceRightStyle()}),this.showDistanceBottomStyle()&&n.createElement("div",{className:"bottom",style:this.showDistanceBottomStyle()}),this.showDistanceLeftStyle()&&n.createElement("div",{className:"left",style:this.showDistanceLeftStyle()})),n.createElement("div",{ref:this.marginRef,className:"margin"},d&&n.createElement("div",{className:"top",style:d},d.value&&n.createElement("div",{className:"info","data-value":E(d.value,C)})),v&&n.createElement("div",{className:"right",style:v},v.value&&n.createElement("div",{className:"info","data-value":E(v.value,C)})),f&&n.createElement("div",{className:"bottom",style:f},f.value&&n.createElement("div",{className:"info","data-value":E(f.value,C)})),g&&n.createElement("div",{className:"left",style:g},g.value&&n.createElement("div",{className:"info","data-value":E(g.value,C)})))))),n.createElement(ve,null),n.createElement(R,{scale:i,zoomIn:this.zoomIn,zoomOut:this.zoomOut,zoomToPrimitive:this.zoomToPrimitive,zoomNext:this.zoomNext}),t&&n.createElement(pe,{current:t,width:r.width,height:r.height,platform:o,ratio:s,onModalVisibleChange:this.onSpecificationModalVisibleChange}),n.createElement(Ce,{platform:o,colorType:c,visible:l,onChangeSpecification:this.onChangeSpecification,onVisibleChange:this.onSpecificationModalVisibleChange})))}}]),a}(n.Component);function Me(e){var t=e,a=null;try{t.name=de(t.name),t.width*=1,t.height*=1,a=t;try{var n={};"web"!==a.platform?n.info=JSON.parse(a.data):n.info=[{name:t.unique_page.name,width:t.width,height:t.height,top:0,left:0}],2===a.data_version&&(n.layer=JSON.parse(JSON.stringify(n.info)),n.info=g(JSON.parse(JSON.stringify(n.info)))),n.info.map((function(e,t){e.idx=t,e.hasOwnProperty("image")&&(e.image.id=t)})),a.data=n}catch(i){console.log(i)}}catch(n){a=null}return a}Ne.defaultProps={canvasWidth:window.innerWidth};var Le=Ne;var Se=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("/v1/relay/api/page/info?unique_page_id=9a83fa5b-acc5-4468-a4c4-dd386ad192a5",{credentials:"include",mode:"cors",cache:"no-cache",method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=Me(e.data);r(t)}))}),[]),a?i.a.createElement(Le,{data:a,mountCallback:function(e){console.log(e)},onMouseDown:function(e){console.log(e)},goNext:function(){console.log("goNext")},canvasWidth:864}):null};a(213),a(214);l.a.render(i.a.createElement(Se,null),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.bca64b91.chunk.js.map